"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["885"],{7222:function(e,a,n){n.r(a),n.d(a,{default:()=>o});var l=n(4246),r=n(980);function t(e){let a=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",pre:"pre",code:"code",h2:"h2"},(0,r.ah)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.h1,{id:"搜索选择器",children:["搜索选择器",(0,l.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#搜索选择器",children:"#"})]}),"\n",(0,l.jsx)(a.p,{children:(0,l.jsx)(a.strong,{children:"引入"})}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ts",children:"import { FairysTaroPopupSearchBase } from '@fairys/taro-tools-simple-form';\n"})}),"\n",(0,l.jsxs)(a.h2,{id:"组件参数",children:["组件参数",(0,l.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#组件参数",children:"#"})]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ts",children:"import { TableColumnProps, TaroTableProps } from '@nutui/nutui-react-taro';\nexport declare class FairysTaroPopupSearchBaseInstanceMount<T = any> {\n    /**选中项改变时触发*/\n    onChange?: (value: T[] | T | undefined) => void;\n    onLoadData?: (params: any, instance: FairysTaroPopupSearchBaseInstanceMount<T>) => Promise<T[]>;\n    /**其他请求参数*/\n    otherRequestParams?: (params: any, instance: FairysTaroPopupSearchBaseInstanceMount<T>) => any;\n    /**自定义输入框显示文本*/\n    renderText?: (data: T | T[], instance: FairysTaroPopupSearchBaseInstanceMount<T>) => React.ReactNode;\n    /**自定义渲染列表项文本*/\n    renderListItemText?: (data: T, instance: FairysTaroPopupSearchBaseInstanceMount<T>) => React.ReactNode;\n    /**自定义渲染列表数据*/\n    renderList?: (dataList: T[], type: 'select' | 'manage', instance: FairysTaroPopupSearchBaseInstanceMount<T>) => React.ReactNode;\n    /**选择模式*/\n    mode?: 'multiple' | 'single';\n    /**列表项的唯一键值*/\n    rowKey?: string;\n    /**提示框 显示字段*/\n    displayField?: string;\n    /**列表列配置*/\n    columns?: TableColumnProps[];\n    /**最大弹窗宽度*/\n    maxWidth?: number;\n    /**最大弹窗高度*/\n    maxHeight?: number;\n    /**是否需要管理已选择的数据*/\n    isNeedManage?: boolean;\n    /**是否选中状态，在使用 options 参数渲染固定列数据的时候是否需要选中状态*/\n    isUseOptionsChecked?: boolean;\n    /**\n     * 渲染类型\n     * @default 'list'\n     * */\n    renderType?: 'list' | 'table' | 'custom';\n    /**表格属性*/\n    tableProps?: Partial<TaroTableProps>;\n    /**自定义表格属性*/\n    useTableProps?: (tableProps: Partial<TaroTableProps>, instance: FairysTaroPopupSearchBaseInstanceMount<T>) => Partial<TaroTableProps>;\n    /**是否显示删除按钮*/\n    showRowDeleteButton?: boolean;\n    /**是否显示搜索框*/\n    showSearch?: boolean;\n    /**选中项*/\n    value?: T | T[];\n    /**选择数据*/\n    options?: ({\n        label?: string;\n        value?: string | number;\n        [x: string]: any;\n    } & T)[];\n    /**\n     * 最大渲染个数数量\n     */\n    maxTagCount?: number;\n}\nexport interface FairysTaroPopupSearchBaseInstanceState<T = any> {\n    /**无用默认值*/\n    __defaultValue: string;\n    visible: boolean;\n    /**选中项*/\n    value: T | T[] | undefined;\n    dataList: T[];\n    /**\n     * 临时过滤数据列表\n     * 使用 options 参数并且在 operationStatus = select 时使用，根据主键字段值和显示字段值进行过滤\n     * 在 operationStatus = manage 时，过滤 _tempValue 中的值，根据主键字段值和显示字段值进行过滤\n     */\n    _tempFilterDataList: T[];\n    search?: string;\n    /**\n     * 临时值(多选时使用)，用于临时存在，点击保存后赋值给 value\n     */\n    _tempValue: T | T[] | undefined;\n    /**操作状态\n     * @default 'select'\n     */\n    operationStatus: 'manage' | 'select';\n    /**选中列表数据*/\n    manageSelectedDataList: T[];\n    /**全选按钮是否选中状态*/\n    allChecked: boolean;\n    /**选择模式\n     * @default 'single'\n     */\n    mode?: 'multiple' | 'single';\n    /**列表列配置*/\n    columns?: TableColumnProps[];\n}\nexport declare class FairysTaroPopupSearchBaseInstance<T = any> extends FairysTaroPopupSearchBaseInstanceMount<T> {\n    /**窗口高度*/\n    windowHeight: number;\n    /**窗口宽度*/\n    windowWidth: number;\n    /**弹窗宽度*/\n    popupWidth: number;\n    /**弹窗高度*/\n    popupHeight: number;\n    state: FairysTaroPopupSearchBaseInstanceState<T>;\n    ctor(): void;\n    /**更新状态*/\n    updateState: (state: Partial<typeof this.state>) => void;\n    /**判断是否使用 options 参数,并且不是管理模式*/\n    isUseOptions: () => boolean;\n    /**搜索*/\n    onSearch: (keyword: string) => Promise<void>;\n    /**保存数据*/\n    onSave: () => void;\n    /**清空数据*/\n    onClear: () => void;\n    /**是否选中数据*/\n    isCheckedData: (data: T) => boolean;\n    /**单个选中数据*/\n    onCheckedData: (data: T, checked: boolean) => void;\n    /**全选按钮*/\n    onAllChecked: () => void;\n    /**关闭弹窗*/\n    onClose: () => void;\n    /**更新操作状态*/\n    updateOperationStatus: () => void;\n    /**删除选中数据*/\n    onDeleteData: (data?: T) => void;\n}\nexport declare function useFairysTaroPopupSearchBaseInstance<T = any>(): readonly [FairysTaroPopupSearchBaseInstanceState<T>, FairysTaroPopupSearchBaseInstance<T>, string];\nexport declare const FairysTaroPopupSearchBaseInstanceContext: import(\"react\").Context<FairysTaroPopupSearchBaseInstance<any>>;\nexport declare function useFairysTaroPopupSearchBaseInstanceContext<T = any>(options?: {\n    sync?: boolean;\n}): readonly [FairysTaroPopupSearchBaseInstanceState<T>, FairysTaroPopupSearchBaseInstance<T>, string];\n\nexport interface FairysTaroPopupSearchProps<T = any>\n  extends Partial<TaroPopupProps>,\n    FairysTaroPopupSearchBaseInstanceMount<T> {\n  placeholder?: string;\n}\n\n"})}),"\n",(0,l.jsxs)(a.h2,{id:"单选",children:["单选",(0,l.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#单选",children:"#"})]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ts",children:"import { FairysTaroPopupSearchBase } from '@fairys/taro-tools-simple-form';\n\nconst attrs ={\n  placeholder: '请选择',\n  mode: 'single',\n  options: [\n    { value: 'A0', label: 'A0_1' },\n    { value: 'B0', label: 'B0_1' },\n    { value: 'C0', label: 'C0_1' },\n    { value: 'D0', label: 'D0_1' },\n    { value: 'E0', label: 'E0_1' },\n    { value: 'F0', label: 'F0_1' },\n    { value: 'G0', label: 'G0_1' },\n    { value: 'H0', label: 'H0_1' },\n    { value: 'I0', label: 'I0_1' },\n    { value: 'J0', label: 'J0_1' },\n    { value: 'K0', label: 'K0_1' },\n    { value: 'L0', label: 'L0_1' },\n    { value: 'M0', label: 'M0_1' },\n  ],\n}\n\nconst Page = ()=>{\n  return <FairysTaroPopupSearchBase {...attrs} />\n}\n\nexport default Page\n\n"})}),"\n",(0,l.jsxs)(a.h2,{id:"单选表格渲染",children:["单选表格渲染",(0,l.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#单选表格渲染",children:"#"})]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ts",children:"import { FairysTaroPopupSearchBase } from '@fairys/taro-tools-simple-form';\n\nconst attrs ={\n  placeholder: '请选择',\n  mode: 'single',\n  renderType: 'table',\n  columns: [\n    { title: '选项值', key: 'value' },\n    { title: '选项标签', key: 'label' },\n  ],\n  options: [\n    { value: 'A0', label: 'A0_1' },\n    { value: 'B0', label: 'B0_1' },\n    { value: 'C0', label: 'C0_1' },\n    { value: 'D0', label: 'D0_1' },\n    { value: 'E0', label: 'E0_1' },\n    { value: 'F0', label: 'F0_1' },\n    { value: 'G0', label: 'G0_1' },\n    { value: 'H0', label: 'H0_1' },\n    { value: 'I0', label: 'I0_1' },\n    { value: 'J0', label: 'J0_1' },\n    { value: 'K0', label: 'K0_1' },\n    { value: 'L0', label: 'L0_1' },\n    { value: 'M0', label: 'M0_1' },\n  ],\n}\n\nconst Page = ()=>{\n  return <FairysTaroPopupSearchBase {...attrs} />\n}\n\nexport default Page\n\n"})}),"\n",(0,l.jsxs)(a.h2,{id:"多选",children:["多选",(0,l.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#多选",children:"#"})]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ts",children:"import { FairysTaroPopupSearchBase } from '@fairys/taro-tools-simple-form';\n\nconst attrs ={\n  placeholder: '请选择',\n  mode: 'multiple',\n  options: [\n    { value: 'A0', label: 'A0_1' },\n    { value: 'B0', label: 'B0_1' },\n    { value: 'C0', label: 'C0_1' },\n    { value: 'D0', label: 'D0_1' },\n    { value: 'E0', label: 'E0_1' },\n    { value: 'F0', label: 'F0_1' },\n    { value: 'G0', label: 'G0_1' },\n    { value: 'H0', label: 'H0_1' },\n    { value: 'I0', label: 'I0_1' },\n    { value: 'J0', label: 'J0_1' },\n    { value: 'K0', label: 'K0_1' },\n    { value: 'L0', label: 'L0_1' },\n    { value: 'M0', label: 'M0_1' },\n  ],\n}\n\nconst Page = ()=>{\n  return <FairysTaroPopupSearchBase {...attrs} />\n}\n\nexport default Page\n\n"})}),"\n",(0,l.jsxs)(a.h2,{id:"多选表格渲染",children:["多选表格渲染",(0,l.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#多选表格渲染",children:"#"})]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ts",children:"import { FairysTaroPopupSearchBase } from '@fairys/taro-tools-simple-form';\n\nconst attrs ={\n  placeholder: '请选择',\n  mode: 'multiple',\n  renderType: 'table',\n  columns: [\n    { title: '选项值', key: 'value' },\n    { title: '选项标签', key: 'label' },\n  ],\n  options: [\n    { value: 'A0', label: 'A0_1' },\n    { value: 'B0', label: 'B0_1' },\n    { value: 'C0', label: 'C0_1' },\n    { value: 'D0', label: 'D0_1' },\n    { value: 'E0', label: 'E0_1' },\n    { value: 'F0', label: 'F0_1' },\n    { value: 'G0', label: 'G0_1' },\n    { value: 'H0', label: 'H0_1' },\n    { value: 'I0', label: 'I0_1' },\n    { value: 'J0', label: 'J0_1' },\n    { value: 'K0', label: 'K0_1' },\n    { value: 'L0', label: 'L0_1' },\n    { value: 'M0', label: 'M0_1' },\n  ],\n}\n\nconst Page = ()=>{\n  return <FairysTaroPopupSearchBase {...attrs} />\n}\n\nexport default Page\n\n"})}),"\n",(0,l.jsxs)(a.h2,{id:"异步加载",children:["异步加载",(0,l.jsx)(a.a,{className:"header-anchor","aria-hidden":"true",href:"#异步加载",children:"#"})]}),"\n",(0,l.jsx)(a.pre,{children:(0,l.jsx)(a.code,{className:"language-ts",children:"import { FairysTaroPopupSearchBase } from '@fairys/taro-tools-simple-form';\n\nconst attrs ={\n  placeholder: '请选择',\n  mode: 'multiple',\n  onLoadData: async (params: { keyword: string }) => {\n    return Promise.resolve([\n      { value: 'A0', label: 'A0_1' },\n      { value: 'B0', label: 'B0_1' },\n      { value: 'C0', label: 'C0_1' },\n      { value: 'D0', label: 'D0_1' },\n      { value: 'E0', label: 'E0_1' },\n      { value: 'F0', label: 'F0_1' },\n      { value: 'G0', label: 'G0_1' },\n      { value: 'H0', label: 'H0_1' },\n      { value: 'I0', label: 'I0_1' },\n      { value: 'J0', label: 'J0_1' },\n      { value: 'K0', label: 'K0_1' },\n      { value: 'L0', label: 'L0_1' },\n      { value: 'M0', label: 'M0_1' },\n    ])\n  },\n}\n\nconst Page = ()=>{\n  return <FairysTaroPopupSearchBase {...attrs} />\n}\n\nexport default Page\n\n"})})]})}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:a}=Object.assign({},(0,r.ah)(),e.components);return a?(0,l.jsx)(a,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}let o=s;s.__RSPRESS_PAGE_META={},s.__RSPRESS_PAGE_META["zh%2Fform%2Fcomponents%2Fpopup.search.md"]={toc:[{text:"组件参数",id:"组件参数",depth:2},{text:"单选",id:"单选",depth:2},{text:"单选表格渲染",id:"单选表格渲染",depth:2},{text:"多选",id:"多选",depth:2},{text:"多选表格渲染",id:"多选表格渲染",depth:2},{text:"异步加载",id:"异步加载",depth:2}],title:"搜索选择器",headingTitle:"搜索选择器",frontmatter:{}}}}]);